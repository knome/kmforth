
@ "STANDARD" ;

:main
  {
    $test
    $arena
  }
  
  20000                                 # [: size
  10                                    # [: size roots
  gc/arena                              # [: arena-addr err
  "failed to allocate arena" dieOnError # [: arena-addr
  $arena.set
  
  # $arena.get 1 30 gc/allocate "failed to allocate value" dieOnError
  
  $arena.get
  [ "aaa" log dup 1 30 gc/allocate "failed to allocate value" dieOnError pop ]
  loop
  
;
