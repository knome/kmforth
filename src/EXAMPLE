
# https://blog.rchapman.org/posts/Linux_System_Call_Table_for_x86_64/

@ "standard" ;

:main { $A $C $D }
  100 $C.set
  100 $D.set
  
  "calling" print
  
  [ { $B }
    10 $B.set
    "a:addr from nonlocal" print
    $A.addr printno
    $A.here
    "hello" print
    $C.decr
    $D.incr
    $B.decr
    $B.get
    $A.jumpIf
  ] call
  
  "back" print
  $A.get printno
  $C.get printno
  $D.get printno
  
  "a:addr from local" print
  $A.addr printno
;
